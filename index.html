<!DOCTYPE html>
<html>
<head>
<title>Structured ALE</title>
</head>
<body>

<h1>This site is to promote LS-DYNA Structured ALE usage.</h1>

<h2>ALE/S-ALE training class in 2019</h2>
<ul class="menu"> <li ><a href="http://www.lstc.com/sites/default/files/marketing/2019_classes/41_LS-DYNA%20Comprehensive%20ALE%20%26%20Structured-ALE%20Modeling%20Methods.pdf" title="">Comprehensive ALE and Structured-ALE Modeling Methods and Applications</a></li> </ul>
<ul class="menu"> <li><a>May 29--May 30, Class in Troy, Michigan</a></li> </ul>
<ul class="menu"> <li><a>Oct 30--Oct 31, Class in Livermore, California</a></li> </ul>
<ul class="menu"> <li><a>By Dr. Ian Do, ALE support for nearly 20 years</a></li> </ul>
<ul class="menu"> <li><a>Please double check the class name. Do not get confused with another class named "ALE, Eulerian, and Fluid-Structure Interaction in LS-DYNAÂ®"</a></li> </ul>

<br><hr width="100%" size="8" align="center"><br>


<h2>S-ALE menu</h2>

 
<ul class="menu"><li><a href="./manuals.html">Manuals</a></li></ul>

<ul class="menu"><li><a href="http://ftp.lstc.com/anonymous/outgoing/hao/sale/models/">Example Models</a></li> </ul>
<ul class="menu"><li><a href="./tutorials">Tutorials</a></li>
</ul>
<ul class="menu"><li><a href="exes.html">Executables</a></li>
</ul>

<br><hr width="100%" size="8" align="center"><br>

<p> <FONT SIZE=6><B>Structured ALE</B></FONT> </p>
<p>Structured ALE solver is a newly added ALE solver targeted to solve ALE problems using structured (rectilinear) mesh.  It supports SMP, MPP and MPP Hybrid.  It runs faster, uses less memory and more stable.
</p>
<p> <FONT SIZE=4><B>Easier Mesh Generation:</B></FONT>
Rectilinear ALE mesh is generated by the *ALE_STRUCTURED_MESH keyword. Mesh nodes and elements are generated at the input phase of the execution.  This brings a great reduction in the program I/O and memory needs, especially for large size ALE models.
</p>

<p> <FONT SIZE=4><B>More Efficient Execution:</B></FONT>
Same algorithm with a more efficient coding to gain performance. (29% speedup observed <a href="./tutorials/08-B_FSI-ALE_041.pdf" title="">here</a>)<br>
1. Targeted to solve multi-material fluids flowing in a rectilinear mesh. <br>
2. More efficient parallelization with newly added SMP support. <br>
3. A leaner solver much easier to maintain and debug. <br>
</p>

<p> <FONT SIZE=4><B>Identical (almost) Setup:</B></FONT>
<p> Same setup as the generic ALE solver. However, there is a big difference in design to make the setup much easier: In S-ALE, part is either mesh part or material part.<B> IT CAN NOT BE BOTH.</B> </p>
<p>
Mesh part: mesh only(elements, nodes); no material associated with it; defined through *ALE_STRUCTURED_MESH DPID. In ALL ALE related keywords, PID should be mesh part ID.</p>
<p>
Material parts: material properties (*MAT+*EOS+*HG); no mesh at all; defined through *PART. Their IDs only appear in *ALE_MULTI-MATERIAL_GROUP. Any other reference to their PIDs is WRONG.</p>

<br><hr width="100%" size="8" align="center"><br>

<p> <FONT SIZE=6><B>Keywords</B></FONT> </p>
<p> <FONT SIZE=4><B>*ALE_STRUCTURED_MESH</B></FONT> </p>
<table border="1" style="width:50%" cellpadding="5" cellspacing="5">
<tr>
<td>MSHID</td> <td>PID</td> <td>NBID</td><td>EBID</td>
</tr>
<tr>
<td>CPIDX</td> <td>CPIDY</td> <td>CPIDZ</td><td>NID0</td> <td>LCSID</td>
</tr>
</table>
<p>
PID -- Assign a Part ID for the ALE mesh generated <br>
NBID -- Beginning node ID; nodes generated start with this ID <br>
EBID -- Beginning element ID; elements generated start with this ID<br>
CPIDX -- Control_points ID to specify mesh spacing along local x direction.<br>
NID0 -- The origin node ID (optional) <br>
LCSID -- Local coordinate system ID (optional) see *DEFINE_COORDINATE_SYSTEM_NODE<br>
</p>

<p> <FONT SIZE=4><B>*ALE_STRUCTURED_MESH_CONTROL_POINTS</B></FONT>
<table border="1" style="width:50%" cellpadding="5" cellspacing="5">
<tr>
<td>CPID</td>
</tr>
<tr>
<td width="33%" >N_1</td> <td width="33%" >X_1</td> <td width="33%">RATIO_1</td>
</tr>
<tr>
<td width="33%" >...</td> <td width="33%" >...</td> <td width="33%">...</td>
</tr>
<tr>
<td width="33%" >N_i</td> <td width="33%" >X_i</td> <td width="33%">RATIO_i</td>
</tr>
</table>
CPID -- Control_points ID <br>
N -- Nth node  <br>
X -- Coordinate of Nth node  <br>
RATIO -- Ratio for progressive mesh spacing (optional) <br>
</p>

<br><hr width="100%" size="8" align="center"><br>

<p> <FONT SIZE=6><B>A much easier 3-step setup</B></FONT> </p>
<p> <B> Step 1: Generating mesh </B> </p>
<p>
 a. 3 control_points cards --> mesh spacing in x,y,z direction. <br>
 b. 1 ale_structured_mesh card to generate mesh. --> mesh part <br>
</p>
<p> <B> Step 2: Defining multi-materials </B></p>
<p> a. For each ALE material, define a part card. Each part serves as a wrapper to include *MAT+*EOS+*HOURGLASS. -->  material parts <br>
 b. List all ALE multi-material part IDs under *ALE_MULTI-MATERIAL_GROUP card. <br></p>
<p> <B> Step 3: Filling the domain with multi-materials </B></p>
<p> Use *INITIAL_VOLUME_FRACTION_GEOMETRY to fill the S-ALE mesh part with multi-materials (fluids). </p>
<p><B>Mesh part and material parts</B></p>
<p> mesh part: only one; contains mesh (elements+nodes) only. NOT associated with any material. <br>
material parts: multiple; contain material definitions (MAT+EOS+HG). Does NOT contain any mesh. </p>
<p> S-ALE enforces a 1 to 1 correspondence between material parts and ale multi-material groups (ammgs). The material partid should only appear in *ALE_MULTI-MATERIAL_GROUP card and nowhere else. </p>

<p> <FONT SIZE=6><B>FAQs</B></FONT> </p>
<p> <B>1. How to generate node/segment/solid set in S-ALE? </B>  </p>
There are two new options SALEFAC, SALECPT in *SET_NODE/SEGMENT/SOLID_GENERAL. SALEFAC picks all nodes/segments/solids at the S-ALE mesh face.  SALECPT picks the entities inside the box (I1,J1,K1) and (I2,J2,K2) in control_points.
<p> NOTE: All other options in *SET_?_GENERAL do not work with S-ALE mesh!
<p> <B>2. How to specify ambient parts in S-ALE? </B> </p>
<p>S-ALE setup doesn't allow for "ambient parts". PART is either a mesh part which contains no material info, or a material parts which has no mesh. A part can not contain both. This is the most significant difference from generic ALE setup.</p>
S-ALE has "ambient elements" instead. Certain part of S-ALE mesh are grouped as solid element set and prescribed as "ambient elements" by using *BOUNDARY_AMBIENT (note: not *BOUNDARY_AMBIENT_EOS).
</p>
<p> <B>3. How to specify part(s) in *INITIAL_HYDROSTATIC_ALE or *AMBIENT_HYDROSTATIC_ALE? </B> </p>
<p>In both cards, ALESID could be a set of solid elements. We need to use this option when using S-ALE.</p>
<p>PART is either a mesh part which contains no material info, or a material parts which has no mesh. A part can not contain both. This is the most significant difference from generic ALE setup.</p>
</p>
<p> <B>4. Does *ALE_REFERENCE_SYSTEM_GROUP work with S-ALE? </B> </p>
<p>No. It doesn't. Mesh motion in S-ALE is controled by the origin node (translational) and the local coordinate system (rotational). </p>

<br><hr width="100%" size="8" align="center"><br>

<p> <FONT SIZE=6><B>News</B></FONT> </p>
<p> <B>1. Mesh trimming feature added in dev.124272 </B>  </p>
Mesh trimming is to delete S-ALE elements far away from the user's interest. For details please check the <a href="./manuals/ALE_STRUCTURED_MESH_TRIM.pdf" title="">manual</a> and 2018 LS-DYNA Conference <a href="./tutorials/08-A_FSI-ALE_025.pdf" title="">paper</a>. Example models <a href="http://ftp.lstc.com/anonymous/outgoing/hao/sale/models/awgbirdstrike/" title="">here</a> and <a href="http://ftp.lstc.com/anonymous/outgoing/hao/sale/models/meshtrim/" title="">here</a>.
<br>
<p> <B>2. TDEATH to turn off ALE simulation while continuing the rest of calculation </B>  </p>
Tdeath in *ALE_STRUCTURED_MESH could delete S-ALE mesh and related *CONSTRAINED_LAGRANGE_IN_SOLID + *ALE_COUPLING_NODAL cards. This will effectively kill the ALE run while keep other Lagrangian parts running.
<br>
<br>
Available at dev.116748 or later. Check <a href="./manuals/ALE_STRUCTURED_MESH_dev.pdf" title="">ALE_STRUCTURED_MESH_dev.pdf </a> in manuals section for detailed usage.
<br>
<br>
<p> <B>3. Lancemore Japan Example models using LS-DYNA </B>  </p>
Lancemore Japan has been an active user using LS-DYNA ALE/FSI capabilities. And accumulated lots of animations during the years.
<br>
<br>
Check <a href="http://www.lancemore.jp/ls-dyna/example_456.html" title="">LANCEMORE example model No. 456 bubble cavitation analysis using S-ALE</a> and <a href="http://www.lancemore.jp/ls-dyna/example_459.html" title="">LANCEMORE example model No. 459 Taylor impact analysis using S-ALE</a>. Also See <a href="http://www.lancemore.jp/ls-dyna/index_en.html" title="">other LS-DYNA models</a>.

<br><hr width="100%" size="8" align="center"><br>

<p> <FONT SIZE=6><B>Notable points on ALE/FSI</B></FONT> </p>
<p> <B>1. The order in *ALE_MULTI-MATERIAL_GROUP </B>  </p>
The "material part" serves as a wrapper to encapsulate *MAT+*EOS+*HG. They are listed in *ALE_MULTI-MATERIAL_GROUP card to tell the solver: <br>
1. How many fluids (AMMGs) flow in the ALE domain("mesh part"). <br>
2. Each AMMG's material property --> (*MAT+*EOS+*HG) <br>
<br>
There is also a function, overlooked very often, that frequently leads to failed ALE/FSI analysis. That is: the order in which those parts are listed in *ALE_MULTI-MATERIAL_GROUP plays a crucial role. It determines the order in which material interfaces are constructed in mixed elements. Simply speaking, in a mixed element, the solver would do interface construction for AMMG1, then AMMG1+AMMG2, then AMMG1+AMMG2+AMMG3, so on and forth.
<br>
<p>
This means, to correctly reconstuct the fluid interfaces, we need to make sure <B>neighboring materials are listed next to each other</B> under *ALE_MULTI-MATERIAL_GROUP card. Please refer to the slide <a href="./tutorials/ammgorder.pdf">here</a> for a detailed explanation.
</p>
<p> <B>2. FSI: LAG/ALE 1:1 mesh size </B>  </p>
We prefer the ALE mesh size to be around the same as the LAG mesh. In interface reconstruction for mixed ALE cells, we only do 1 cut, i.e. we assume the interface is a plane intersecting the ALE cell. So finer LAG mesh won't do any good. Instead it might cause the two interfaces (LAG/ALE) not conciliable.
<br>

<br><hr width="100%" size="8" align="center"><br>

<div align="center"><B> Unique visits </B><a href="http://www.amazingcounters.com"><img border="0" src="http://cc.amazingcounters.com/counter.php?i=3214224&c=9642985" alt="AmazingCounters.com"></a> <B> Since 04/27/2017 </B></div>


</body>
</html>
